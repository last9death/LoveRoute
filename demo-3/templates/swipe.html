{% extends "base.html" %}

{% block content %}
<div class="header">
    <div class="logo">üíï</div>
    <h1 class="title">{{ city.name }}</h1>
    <p class="subtitle">–°–≤–∞–π–ø–∞–π—Ç–µ –º–µ—Å—Ç–∞ –¥–ª—è —Å–≤–æ–µ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞</p>
</div>

{% if user_email %}
<div class="user-info">
    üëã {{ user_email }} ‚Ä¢ üìç {{ city.name }}
    <div style="margin-top: 5px;">
        <a href="/?city=" style="color: var(--cordovan); text-decoration: none; font-size: 0.9rem;">
            –°–º–µ–Ω–∏—Ç—å –≥–æ—Ä–æ–¥
        </a> ‚Ä¢ 
        <a href="/logout" style="color: var(--cordovan); text-decoration: none; font-size: 0.9rem;">
            –í—ã–π—Ç–∏
        </a>
    </div>
</div>
{% elif guest %}
<div class="user-info">
    üëÄ –ì–æ—Å—Ç–µ–≤–æ–π —Ä–µ–∂–∏–º ‚Ä¢ üìç {{ city.name }}
    <div style="margin-top: 5px;">
        <a href="/guest" style="color: var(--cordovan); text-decoration: none; font-size: 0.9rem;">
            –°–º–µ–Ω–∏—Ç—å –≥–æ—Ä–æ–¥
        </a> ‚Ä¢ 
        <a href="/" style="color: var(--cordovan); text-decoration: none; font-size: 0.9rem;">
            –°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç
        </a>
    </div>
</div>
{% endif %}

<div class="swipe-area">
    {% if places %}
        {% for place in places %}
        <div class="place-card" data-place-id="{{ place.id }}" style="z-index: {{ 100 - loop.index0 }};">
            <img src="data:image/svg+xml;charset=UTF-8,%3Csvg width='400' height='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3ClinearGradient id='bg' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23FFE1E6' /%3E%3Cstop offset='100%25' style='stop-color:%23F8BBD9' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='400' height='300' fill='url(%23bg)' /%3E%3Ccircle cx='200' cy='120' r='30' fill='%23E91E63' opacity='0.2'/%3E%3Crect x='180' y='108' width='40' height='24' rx='4' fill='%23E91E63' opacity='0.6'/%3E%3Ccircle cx='200' cy='120' r='5' fill='%23C2185B'/%3E%3Ctext x='200' y='200' font-family='Arial' font-size='20' font-weight='bold' fill='%23AD1457' text-anchor='middle'%3Eüì∑ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ%3C/text%3E%3Ctext x='200' y='225' font-family='Arial' font-size='14' fill='%23C2185B' text-anchor='middle'%3E–°–∫–æ—Ä–æ –∑–¥–µ—Å—å –±—É–¥–µ—Ç —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –º–µ—Å—Ç–æ%3C/text%3E%3Ctext x='200' y='245' font-family='Arial' font-size='12' fill='%23E91E63' text-anchor='middle' opacity='0.7'%3E‚ù§Ô∏è LoveRoute%3C/text%3E%3C/svg%3E"
                 alt="{{ place.name }}" class="place-image">
            
            <div class="place-info">
                <h3 class="place-name">{{ place.name }}</h3>
                <p class="place-description">{{ place.excerpt }}</p>
                <div class="place-tags">
                    {% for tag in place.tags %}
                    <span class="place-tag">{{ tag }}</span>
                    {% endfor %}
                </div>
            </div>
        </div>
        {% endfor %}
    {% else %}
        <div class="no-places">
            <h2>–í—Å–µ –º–µ—Å—Ç–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω—ã!</h2>
            <p>–í—ã–±–µ—Ä–∏—Ç–µ –¥—Ä—É–≥–æ–π –≥–æ—Ä–æ–¥ –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è</p>
            <a href="/?city=" class="btn btn-primary" style="margin-top: 20px; display: inline-block; width: auto;">
                üèõÔ∏è –í—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥–æ–π –≥–æ—Ä–æ–¥
            </a>
        </div>
    {% endif %}
</div>

{% if places %}
<div class="swipe-buttons">
    <button id="skipBtn" class="swipe-btn skip">üëé</button>
    <button id="likeBtn" class="swipe-btn like">‚ù§Ô∏è</button>
</div>

<div style="text-align: center; margin-top: 20px; color: var(--new-york-pink); font-size: 0.9rem;">
    <p>üëà –í–ª–µ–≤–æ - –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å ‚Ä¢ üëâ –í–ø—Ä–∞–≤–æ - –Ω—Ä–∞–≤–∏—Ç—Å—è</p>
    <p>–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –≤–Ω–∏–∑—É</p>
</div>
{% endif %}


{% endblock %}